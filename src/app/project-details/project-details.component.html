<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Events Booking Platform — Project Details</title>
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="header-container">
      <a routerLink="/" class="back-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="19" y1="12" x2="5" y2="12"></line>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
        <span *ngIf="fr">Retour aux projets</span>
        <span *ngIf="!fr">Back to Projects</span>
      </a>
    </div>

    <div class="toggle-container">
      <div class="language-toggle-minimal">
        <input type="radio" id="french-min" name="language-min" value="fr" [checked]="fr">
        <input type="radio" id="english-min" name="language-min" value="en" [checked]="!fr">
        <label for="french-min" (click)="change()" class="language-option" [ngClass]="{'active': fr}">Français</label>
        <label for="english-min" (click)="change()" class="language-option" [ngClass]="{'active': !fr}">English</label>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-container" *ngIf="project">
    <div class="content-wrapper">
      <!-- Left Column - Scrollable Content -->
      <div class="left-content">
        <!-- Title and Overview -->
        <div class="title-section">

          <h1 class="project-title">{{ fr ? project.title.fr : project.title.en }}</h1>
          
          <p class="project-overview">
            {{ fr ? project.overview.fr : project.overview.en }}
          </p>
        </div>

        <!-- Features -->
        <div class="features-section">
          <h2 class="section-title" *ngIf="fr">Fonctionnalités Clés</h2>
          <h2 class="section-title" *ngIf="!fr">Key Features</h2>
          <div class="section-divider"></div>
          <div class="features-grid">
            <div class="feature-card" *ngFor="let feature of project.features">
              <h4 class="feature-title">{{ fr ? feature.title.fr : feature.title.en }}</h4>
              <p class="feature-description" [innerHTML]="fr ? feature.description.fr : feature.description.en"></p>
            </div>
          </div>
        </div>

        <!-- Challenges -->
        <div class="challenges-section">
          <h2 class="section-title" *ngIf="fr">Défis & Solutions</h2>
          <h2 class="section-title" *ngIf="!fr">Challenges & Solutions</h2>
          <div class="section-divider"></div>
          <ul class="challenges-list">
            <li *ngFor="let challenge of project.challenges">
              <strong [innerHTML]="fr ? challenge.title.fr : challenge.title.en"></strong> — <span [innerHTML]="fr ? challenge.solution.fr : challenge.solution.en"></span>
            </li>
          </ul>
        </div>
      </div>

      <!-- Right Side - Sticky Slideshow -->
      <div class="right-sticky">
        <div class="slideshow-card">
          <!-- Slideshow -->
          <div class="slideshow-container">
            <img *ngFor="let img of project.images; let i = index"
              [src]="img"
              [alt]="(fr ? project.title.fr : project.title.en) + ' screenshot ' + (i + 1)"
              class="slideshow-image"
              [class.active]="i === currentSlideIndex">

            <!-- Navigation Buttons -->
            <button class="nav-button prev" (click)="changeSlide(-1)">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#14213d" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <polyline points="15 18 9 12 15 6"></polyline>
              </svg>
            </button>
            <button class="nav-button next" (click)="changeSlide(1)">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#14213d" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9 18 15 12 9 6"></polyline>
              </svg>
            </button>

            <!-- Slide Indicators -->
            <div class="slide-indicators">
              <button *ngFor="let img of project.images; let i = index" 
                      class="indicator" 
                      [class.active]="i === currentSlideIndex"
                      (click)="goToSlide(i)"></button>
            </div>
          </div>

          <!-- Technologies -->
          <div class="technologies-section">
            <h3 class="tech-title" *ngIf="fr">Technologies Utilisées</h3>
            <h3 class="tech-title" *ngIf="!fr">Technologies Used</h3>
            <div class="tech-tags">
              <span class="tech-tag" *ngFor="let tech of project.technologies">{{ tech }}</span>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="action-buttons">
            <a *ngIf="project.links?.demo" class="btn-primary" [href]="project.links.demo" target="_blank" rel="noopener">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                   stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                <polyline points="15 3 21 3 21 9"></polyline>
                <line x1="10" y1="14" x2="21" y2="3"></line>
              </svg>
              <span *ngIf="fr">Voir la Démo</span>
              <span *ngIf="!fr">View Live Demo</span>
            </a>
            <a *ngIf="project.links?.github" class="btn-secondary" [href]="project.links.github" target="_blank" rel="noopener">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                   stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7
                         A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0
                         C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61
                         6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                </path>
              </svg>
              <span *ngIf="fr">Voir le Code Source</span>
              <span *ngIf="!fr">View Source Code</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer CTA -->
  <footer class="footer" *ngIf="project && project.footer">
    <div class="footer-container">
      <h2 class="footer-title">{{ fr ? project.footer.title.fr : project.footer.title.en }}</h2>
      
      <p class="footer-text">{{ fr ? project.footer.text.fr : project.footer.text.en }}</p>
      
      <button class="footer-button">{{ fr ? project.footer.buttonText.fr : project.footer.buttonText.en }}</button>
    </div>
  </footer>

</body>
</html>